<app-navbar [user]="user" [userId]="userId"></app-navbar>
<div style="display: flex; background-color: rgb(189, 203, 209)">
  <div class="card-group" style="width: 75%">
    <app-product-card
      *ngFor="let item of filteredItems"
      [product]="item"
      [userId]="userId"
    ></app-product-card>
  </div>
  <div style="flex-grow: 1; margin-right: 10px;">
    <div class="formDiv">
      <form #userForm="ngForm">
        <h3>Filters</h3> 
        
        <div class="form-group">
          <label for="category">Select category:</label>
          <select [(ngModel)]="selectedCategory" name="category" id="category" class="form-control">
            <option value="none">none</option>
            <!-- <option value="Food">Food</option>
            <option value="Electronics">Electronics</option>
            <option value="Clothing">Clothing</option> -->
            <option *ngFor="let category of categories" [value]=category>{{category}}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="subcategory">Select subcategory:</label>
          <select [(ngModel)]="selectedSubCategory" name="subcategory" id="subcategory" class="form-control">
            <option value="none">none</option>
            <!-- <option value="fruit">Fruit</option>
            <option value="vegetable">Vegetable</option>
            <option value="shirt">Shirt</option>
            <option value="pants">Pants</option>
            <option value="mobile">Mobile</option>
            <option value="laptop">Laptop</option> -->
            <option *ngFor="let subcategory of subcategories" [value]=subcategory>{{subcategory}}</option>
          </select>
        </div>
        <button (click)="filterProducts()" class="submitBtn btn btn-primary" style="margin-right: 5px;">Filter</button>
        <button (click)="clearFilters()" class="submitBtn btn btn-secondary">Clear</button>
      </form>
    </div><hr>
    <div class="searchDiv">
      <h4>Search: </h4>
      <form>
        <div class="form-group">
        <input class="form-control" type="text" placeholder="Search.." [(ngModel)]="searchString" name="searchbar"></div>
        <button (click)="searchProducts()" class="submitBtn btn btn-primary" style="margin-right: 5px;">Filter</button>
        <button (click)="clearFilters()" class="submitBtn btn btn-secondary">Reset</button>
      </form>
    </div>
  </div>
</div>
